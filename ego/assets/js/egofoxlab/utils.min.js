function _request(a){var o=jQuery,e={url:a.url,timeout:1e4,method:a.method?a.method:"post",data:a.data?a.data:null,dataType:a.type?a.type:"json",success:function(e){if(!e.success&&"json"===a.type)return e.error&&alert(e.error),void("function"==typeof a.notSuccess&&a.notSuccess.call(this,e));"function"==typeof a.success?a.success.call(this,e):"object"==typeof a.success&&alert(a.success.text)},error:function(e,t,r){console.log(["Error:",t,r,a]),"function"==typeof a.error&&a.error.call(this,e,t,r),o(document).trigger("_request.error")}};o.ajax(e)}function checkEmptyForm(e){for(var t in e)if(e.hasOwnProperty(t)){var r=e[t];if(empty(r.value)&&0!==r)return!1}return!0}function collectFormData(e,s,l){var p=jQuery;l=empty(l)?{}:l,s=empty(s)?p("body"):p(s);var d={};return s.find(e).each(function(e,t){t=p(t);var r,a,o=s.find('label[for="'+t.attr("id")+'"]'),n=t.attr("name"),c=t.val(),i=t.prop("disabled"),u=o.text();switch(empty(o.get(0))&&!empty(t.attr("data-description"))&&(u=t.attr("data-description")),t.attr("type")){case"checkbox":c=t.prop("checked");break;case"radio":c=s.find('input:radio[name="'+n+'"]:checked').val()}switch(t.prop("tagName").toLowerCase()){case"select":t.prop("multiple")||(c=[t.val()])}!empty(c)||void 0!==(r=t.attr("data-default-value"))&&(c=r),empty(n)||(a=!0===t.data("required"),"required"===t.attr("required")&&(a=!0),empty(l.cutName)||(n=n.replace(l.cutName,"")),d[n]={value:c,required:a,disabled:i,description:u})}),d}function isRequiredFieldsEmpty(e){for(var t in e)if(e.hasOwnProperty(t)){var r=e[t];if(r.required&&empty(r.value)&&0!==r.value)return!0}return!1}function is_array(e){return e instanceof Array}function empty(e){var t=!0;try{t=!!(""===e||0===e||"0"===e||null===e||!1===e||is_array(e)&&0===e.length||void 0===e)}catch(e){console.log(e),t=!0}return t}function getUrlParam(e,t){return t=empty(t)?window.location.href:t,new URL(t).searchParams.get(e)}function clearFields(e){(e=jQuery(e)).find(":input").not(":button, :submit, :reset").val("").prop("checked",!1).prop("selected",!1)}function setFieldValue(e,t){var r=jQuery,a=(e=r(e)).prop("tagName"),o=e.first().attr("name");if(!empty(a))if(a=a.toLowerCase(),-1!==r.inArray(a,["input","textarea"]))switch(e.attr("type")){case"checkbox":e.prop("checked",!0===t);break;case"radio":r('input:radio[name="'+o+'"][value="'+t+'"]').prop("checked",!0);break;default:e.val(t)}else"select"===a&&e.val(t).change()}String.prototype.trunc=function(e,t){if(this.length<=e)return this;var r=this.substr(0,e-1);return(t?r.substr(0,r.lastIndexOf(" ")):r)+"&hellip;"};