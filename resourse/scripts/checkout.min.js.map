{"version":3,"sources":["checkout.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"checkout.min.js","sourcesContent":["/* eslint-disable no-return-assign */\n\nconst setCheckoutInputInvalid = (elem, text) => {\n  if (text) elem.setCustomValidity(text);\n  elem.classList.add('checkout-text-input__input--invalid');\n};\n\nconst clearCheckoutInputInvalid = elem => {\n  elem.setCustomValidity('');\n  elem.classList.remove('checkout-text-input__input--invalid');\n};\n\nconst checkoutFirstName = document.getElementById('checkoutFirstName');\nconst checkoutLastName = document.getElementById('checkoutLastName');\nconst checkoutPhone = document.getElementById('checkoutPhone');\nconst checkoutEmail = document.getElementById('checkoutEmail');\n\nconst addInputValidation = el => {\n  el.addEventListener('invalid', () => setCheckoutInputInvalid(el));\n  el.addEventListener('input', () => clearCheckoutInputInvalid(el));\n};\n\n[checkoutFirstName, checkoutLastName, checkoutEmail].forEach(addInputValidation);\n\n// ---------------------------------\n\nconst phoneValue = checkoutPhone.value;\nconst checkoutPhoneMaskOptions = { mask: '+38(\\\\000)000-00-00', lazy: false };\nconst checkoutPhoneMask = IMask(checkoutPhone, checkoutPhoneMaskOptions);\ncheckoutPhoneMask.unmaskedValue = phoneValue;\n\nconst checkoutPhoneInvalidText = 'Неправильний номер телефону. Формат 38(0xx)xxx-xx-xx';\n\ncheckoutPhone.addEventListener('invalid', () => setCheckoutInputInvalid(checkoutPhone, checkoutPhoneInvalidText));\ncheckoutPhone.addEventListener('input', () => clearCheckoutInputInvalid(checkoutPhone));\n\n// ---------------------------------\n\nconst onSubmitCheckoutForm = async evt => {\n  evt.preventDefault();\n  console.log(11111);\n\n  // const url = '/index.php?route=tracking/getStatus';\n  const body = JSON.stringify({\n    firstName: checkoutFirstName.value,\n    lastName: checkoutLastName.value,\n    phone: `380${checkoutPhoneMask.unmaskedValue}`,\n    value: checkoutEmail.value\n  });\n\n  console.log(body);\n  // try {\n  //   const response = await fetch(url, { method: 'POST', body });\n  //   const order = await response.json();\n  // } catch (err) {\n  //   setTrackingError(err.message);\n  // }\n};\n\nconst checkoutForm = document.getElementById('checkoutForm');\ncheckoutForm.addEventListener('submit', onSubmitCheckoutForm);\n\n// ---------------------------------\n"]}