const initBtnScrollOnTop = () => {
  const btnScrollToTopEl = document.getElementById('btnScrollToTop');
  const onClickbtnScrollToTop = () => window.scrollTo({ left: 0, top: 0, behavior: 'smooth' });
  btnScrollToTopEl.addEventListener('click', onClickbtnScrollToTop);

  const onHide = entries => {
    entries.forEach(({ isIntersecting }) => {
      isIntersecting
        ? btnScrollToTopEl.classList.add('btn-scroll-to-top--hide')
        : btnScrollToTopEl.classList.remove('btn-scroll-to-top--hide');
    });
  };

  (new IntersectionObserver(onHide))
    .observe(document.getElementById('interseptorHideBtnScrollToTop'));

  const onDock = entries => {
    entries.forEach(({ isIntersecting }) => {
      isIntersecting
        ? btnScrollToTopEl.classList.remove('btn-scroll-to-top--float')
        : btnScrollToTopEl.classList.add('btn-scroll-to-top--float');
    });
  };

  (new IntersectionObserver(onDock))
    .observe(document.getElementById('interseptorDockBtnScrollToTop'));
};

initBtnScrollOnTop();

const navCategoriesListActivate = row => {
  if (!window.matchMedia('(min-width: 1080px)').matches) return;
  const navCategoriesList = row.querySelector('.nav-categories__list');
  if (navCategoriesList) navCategoriesList.classList.add('nav-categories__list--is-visible');
};

const deactivateCategoriesListActivate = row => {
  if (!window.matchMedia('(min-width: 1080px)').matches) return;
  const navCategoriesList = row.querySelector('.nav-categories__list');
  if (navCategoriesList) navCategoriesList.classList.remove('nav-categories__list--is-visible');
};

$('.nav-categories__list').menuAim({
  activate: navCategoriesListActivate,
  deactivate: deactivateCategoriesListActivate,
  exitMenu: () => true
});

const navCategoriesBtnNavList = document.querySelectorAll('.nav-categories__btn-nav');
const onClickNavCategoriesBtnNav = evt => {
  if (window.matchMedia('(min-width: 1080px)').matches) return;
  const navCategoriesList = evt.target.parentElement.querySelector('.nav-categories__list');
  if (navCategoriesList) navCategoriesList.classList.add('nav-categories__list--is-visible');
};
navCategoriesBtnNavList.forEach(el => el.addEventListener('click', onClickNavCategoriesBtnNav));

const header = document.getElementById('header');
const mobileMenu = document.getElementById('mobileMenu');
const btnMobileMenu = document.getElementById('btnMobileMenu');

const onClickBtnMobileMenu = () => {
  document.body.classList.toggle('body--mobile-menu-open');
  if (!document.body.classList.contains('body--mobile-menu-open')) {
    document.body.classList.remove('body--mobile-menu-categories-open');
    const navCategoriesList = document.querySelectorAll('.nav-categories__list--is-visible');
    navCategoriesList.forEach(el => el.classList.remove('nav-categories__list--is-visible'));
  }
};

btnMobileMenu.addEventListener('click', onClickBtnMobileMenu);

// ------------------------------------------------------------------

const btnHeaderMenuEl = document.getElementById('btnHeaderMenu');

const onClickBtnHeaderMenu = evt => {
  if (evt.target !== evt.currentTarget) return;
  if (!document.body.classList.contains('body--mobile-menu-open')) {
    const { top, height } = header.getBoundingClientRect();
    mobileMenu.style.setProperty('--mobile-menu-top', `${height + top}px`);
  }
  document.body.classList.toggle('body--mobile-menu-open');
};

btnHeaderMenuEl.addEventListener('click', onClickBtnHeaderMenu);
mobileMenu.addEventListener('click', onClickBtnHeaderMenu);

// ------------------------------------------------------------------

const btnMobileMenuCategories = document.getElementById('btnMobileMenuCategories');
const btnMobileMenuBack = document.getElementById('btnMobileMenuBack');

const onClickBtnMobileMenuCategories = () => {
  document.body.classList.add('body--mobile-menu-categories-open');
};

btnMobileMenuCategories.addEventListener('click', onClickBtnMobileMenuCategories);

const onClickBtnMobileMenuBack = () => {
  const navCategoriesList = document.querySelectorAll('.nav-categories__list--is-visible');
  if (!navCategoriesList.length) {
    document.body.classList.remove('body--mobile-menu-categories-open');
    return;
  }
  const navCategoriesListLast = navCategoriesList[navCategoriesList.length - 1];
  navCategoriesListLast.classList.remove('nav-categories__list--is-visible');
};

btnMobileMenuBack.addEventListener('click', onClickBtnMobileMenuBack);

//# sourceMappingURL=shared.min.js.map
